{% extends 'base.html.twig' %}

{% block title %}Inscription — RoomBooking{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('styles/login.css') }}">
{% endblock %}

{% block body %}
<div class="login-page d-flex justify-content-center align-items-center">
    <div class="login-card" style="max-width: 460px;">

        <h1 class="mb-3 text-center">RoomBooking</h1>
        <p class="subtitle text-center">Créez votre compte pour réserver une salle</p>

        {# Flash errors #}
        {% for message in app.flashes('error') %}
            <div class="alert-error">⚠ {{ message }}</div>
        {% endfor %}

        {{ form_start(form, { attr: { novalidate: 'novalidate' } }) }}

            <div class="row g-3 mb-3">
                <div class="col-6">
                    <label class="form-label">{{ form_label(form.firstname) }}</label>
                    {{ form_widget(form.firstname) }}
                    {% if form_errors(form.firstname) %}
                        <div class="form-error">{{ form_errors(form.firstname) }}</div>
                    {% endif %}
                </div>
                <div class="col-6">
                    <label class="form-label">{{ form_label(form.lastname) }}</label>
                    {{ form_widget(form.lastname) }}
                    {% if form_errors(form.lastname) %}
                        <div class="form-error">{{ form_errors(form.lastname) }}</div>
                    {% endif %}
                </div>
            </div>

            <div class="form-group mb-3">
                {{ form_label(form.email, null, { label_attr: { class: 'form-label' } }) }}
                {{ form_widget(form.email) }}
                {% if form_errors(form.email) %}
                    <div class="form-error">{{ form_errors(form.email) }}</div>
                {% endif %}
            </div>

            <div class="form-group mb-3">
                {{ form_label(form.password.first, null, { label_attr: { class: 'form-label' } }) }}
                {{ form_widget(form.password.first) }}
                {% if form_errors(form.password.first) %}
                    <div class="form-error">{{ form_errors(form.password.first) }}</div>
                {% endif %}
            </div>

            <div class="form-group mb-4">
                {{ form_label(form.password.second, null, { label_attr: { class: 'form-label' } }) }}
                {{ form_widget(form.password.second) }}
                {% if form_errors(form.password.second) %}
                    <div class="form-error">{{ form_errors(form.password.second) }}</div>
                {% endif %}
                {% if form_errors(form.password) %}
                    <div class="form-error">{{ form_errors(form.password) }}</div>
                {% endif %}
            </div>

            <button type="submit" class="btn-login">
                Créer mon compte
            </button>

        {{ form_end(form) }}

        <div class="login-footer">
            Déjà un compte ?
            <a href="{{ path('app_login') }}" style="color: #f85149; text-decoration: none;">
                Se connecter
            </a>
        </div>

        <div class="login-footer mt-1">
            MediaSchool IRIS Nice &mdash; BTS SIO SLAM
        </div>

    </div>
</div>
{% endblock %}
